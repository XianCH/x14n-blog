<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>seata部署与集成 | x14n</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="stylesheet" href="/x14n-blog/styles/custom.css">
    <meta name="description" content="STAY HUNGER,STAY FOOLISH">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/x14n-blog/assets/css/0.styles.c5be36f0.css" as="style"><link rel="preload" href="/x14n-blog/assets/js/app.0bf6b832.js" as="script"><link rel="preload" href="/x14n-blog/assets/js/7.5ae92d3c.js" as="script"><link rel="preload" href="/x14n-blog/assets/js/2.f34688e4.js" as="script"><link rel="preload" href="/x14n-blog/assets/js/1.8dfff511.js" as="script"><link rel="preload" href="/x14n-blog/assets/js/35.c8ef20b8.js" as="script"><link rel="prefetch" href="/x14n-blog/assets/js/10.80b19368.js"><link rel="prefetch" href="/x14n-blog/assets/js/11.eca95232.js"><link rel="prefetch" href="/x14n-blog/assets/js/14.65ec719e.js"><link rel="prefetch" href="/x14n-blog/assets/js/15.55722028.js"><link rel="prefetch" href="/x14n-blog/assets/js/16.11e89e57.js"><link rel="prefetch" href="/x14n-blog/assets/js/17.072265ce.js"><link rel="prefetch" href="/x14n-blog/assets/js/18.9264737b.js"><link rel="prefetch" href="/x14n-blog/assets/js/19.68ab4bad.js"><link rel="prefetch" href="/x14n-blog/assets/js/20.6cd93213.js"><link rel="prefetch" href="/x14n-blog/assets/js/21.b972a304.js"><link rel="prefetch" href="/x14n-blog/assets/js/22.bb58b275.js"><link rel="prefetch" href="/x14n-blog/assets/js/23.f4963f8f.js"><link rel="prefetch" href="/x14n-blog/assets/js/24.1d11efd9.js"><link rel="prefetch" href="/x14n-blog/assets/js/25.546aba52.js"><link rel="prefetch" href="/x14n-blog/assets/js/26.dfc21ea4.js"><link rel="prefetch" href="/x14n-blog/assets/js/27.5a57dd7f.js"><link rel="prefetch" href="/x14n-blog/assets/js/28.3f595efb.js"><link rel="prefetch" href="/x14n-blog/assets/js/29.69202bc7.js"><link rel="prefetch" href="/x14n-blog/assets/js/3.0854eb75.js"><link rel="prefetch" href="/x14n-blog/assets/js/30.e344efe0.js"><link rel="prefetch" href="/x14n-blog/assets/js/31.49ac6ce7.js"><link rel="prefetch" href="/x14n-blog/assets/js/32.71f0bab9.js"><link rel="prefetch" href="/x14n-blog/assets/js/33.720bfc4b.js"><link rel="prefetch" href="/x14n-blog/assets/js/34.9529d302.js"><link rel="prefetch" href="/x14n-blog/assets/js/36.4604d668.js"><link rel="prefetch" href="/x14n-blog/assets/js/37.17c601a5.js"><link rel="prefetch" href="/x14n-blog/assets/js/38.62b174a4.js"><link rel="prefetch" href="/x14n-blog/assets/js/39.6bac3f2d.js"><link rel="prefetch" href="/x14n-blog/assets/js/4.afe772ca.js"><link rel="prefetch" href="/x14n-blog/assets/js/40.9b7689f4.js"><link rel="prefetch" href="/x14n-blog/assets/js/41.71a9acde.js"><link rel="prefetch" href="/x14n-blog/assets/js/42.6baf99f1.js"><link rel="prefetch" href="/x14n-blog/assets/js/43.57ecda17.js"><link rel="prefetch" href="/x14n-blog/assets/js/44.4d583ca3.js"><link rel="prefetch" href="/x14n-blog/assets/js/45.ea6eb053.js"><link rel="prefetch" href="/x14n-blog/assets/js/46.bc05fd53.js"><link rel="prefetch" href="/x14n-blog/assets/js/47.0fd2464d.js"><link rel="prefetch" href="/x14n-blog/assets/js/48.2975a75b.js"><link rel="prefetch" href="/x14n-blog/assets/js/49.26cad6d0.js"><link rel="prefetch" href="/x14n-blog/assets/js/5.9fe33567.js"><link rel="prefetch" href="/x14n-blog/assets/js/50.57500091.js"><link rel="prefetch" href="/x14n-blog/assets/js/51.f5dbef1f.js"><link rel="prefetch" href="/x14n-blog/assets/js/52.e7d420ca.js"><link rel="prefetch" href="/x14n-blog/assets/js/53.0879498a.js"><link rel="prefetch" href="/x14n-blog/assets/js/54.895bb4c8.js"><link rel="prefetch" href="/x14n-blog/assets/js/55.d59355f6.js"><link rel="prefetch" href="/x14n-blog/assets/js/56.5e5b07d2.js"><link rel="prefetch" href="/x14n-blog/assets/js/57.081c5d83.js"><link rel="prefetch" href="/x14n-blog/assets/js/58.7ad565b8.js"><link rel="prefetch" href="/x14n-blog/assets/js/59.1d98445b.js"><link rel="prefetch" href="/x14n-blog/assets/js/6.269dc953.js"><link rel="prefetch" href="/x14n-blog/assets/js/60.0dbd0de1.js"><link rel="prefetch" href="/x14n-blog/assets/js/61.055e152a.js"><link rel="prefetch" href="/x14n-blog/assets/js/62.75ea8725.js"><link rel="prefetch" href="/x14n-blog/assets/js/63.aa769f87.js"><link rel="prefetch" href="/x14n-blog/assets/js/64.6108248c.js"><link rel="prefetch" href="/x14n-blog/assets/js/65.ccb1e39b.js"><link rel="prefetch" href="/x14n-blog/assets/js/66.b1045178.js"><link rel="prefetch" href="/x14n-blog/assets/js/67.4d1253cd.js"><link rel="prefetch" href="/x14n-blog/assets/js/68.fb3c884b.js"><link rel="prefetch" href="/x14n-blog/assets/js/69.028eae9e.js"><link rel="prefetch" href="/x14n-blog/assets/js/70.d2879234.js"><link rel="prefetch" href="/x14n-blog/assets/js/71.319d9b8b.js"><link rel="prefetch" href="/x14n-blog/assets/js/72.05f2fbd9.js"><link rel="prefetch" href="/x14n-blog/assets/js/73.14e4ad11.js"><link rel="prefetch" href="/x14n-blog/assets/js/74.48c9a3e7.js"><link rel="prefetch" href="/x14n-blog/assets/js/75.e616032b.js"><link rel="prefetch" href="/x14n-blog/assets/js/76.61b598b4.js"><link rel="prefetch" href="/x14n-blog/assets/js/77.0af3c7a6.js"><link rel="prefetch" href="/x14n-blog/assets/js/78.3101f2e5.js"><link rel="prefetch" href="/x14n-blog/assets/js/79.88317f3c.js"><link rel="prefetch" href="/x14n-blog/assets/js/8.fa1c2b35.js"><link rel="prefetch" href="/x14n-blog/assets/js/80.a1c43ff4.js"><link rel="prefetch" href="/x14n-blog/assets/js/9.e2c14be6.js"><link rel="prefetch" href="/x14n-blog/assets/js/vendors~docsearch.0bf5d0c2.js">
    <link rel="stylesheet" href="/x14n-blog/assets/css/0.styles.c5be36f0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>x14n</h3> <p class="description" data-v-59e6cb88>STAY HUNGER,STAY FOOLISH</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>x14n</span>
          
        <span data-v-59e6cb88>2021 - </span>
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/x14n-blog/" class="home-link router-link-active"><img src="/x14n-blog/lp.png" alt="x14n" class="logo"> <span class="site-name">x14n</span></a> <div class="links"><!----> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/x14n-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/linux/" class="nav-link"><i class="undefined"></i>
  linux
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/go/" class="nav-link"><i class="undefined"></i>
  go
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/java/" class="nav-link"><i class="undefined"></i>
  java
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/other/" class="nav-link"><i class="undefined"></i>
  other
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/spring/" class="nav-link"><i class="undefined"></i>
  spring
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/分布式/" class="nav-link"><i class="undefined"></i>
  分布式
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/springboot/" class="nav-link"><i class="undefined"></i>
  springboot
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/缓存/" class="nav-link"><i class="undefined"></i>
  缓存
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/工具/" class="nav-link"><i class="undefined"></i>
  工具
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li></ul></div></div><div class="nav-item"><a href="/x14n-blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/x14n-blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="https://github.com/XianCH" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/x14n-blog/lp.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    x14n
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>39</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>32</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/x14n-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/linux/" class="nav-link"><i class="undefined"></i>
  linux
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/go/" class="nav-link"><i class="undefined"></i>
  go
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/java/" class="nav-link"><i class="undefined"></i>
  java
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/other/" class="nav-link"><i class="undefined"></i>
  other
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/spring/" class="nav-link"><i class="undefined"></i>
  spring
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/分布式/" class="nav-link"><i class="undefined"></i>
  分布式
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/springboot/" class="nav-link"><i class="undefined"></i>
  springboot
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/缓存/" class="nav-link"><i class="undefined"></i>
  缓存
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/工具/" class="nav-link"><i class="undefined"></i>
  工具
</a></li><li class="dropdown-item"><!----> <a href="/x14n-blog/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li></ul></div></div><div class="nav-item"><a href="/x14n-blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/x14n-blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="https://github.com/XianCH" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>seata部署与集成</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>x14n</span>
          
        <span data-v-59e6cb88>2021 - </span>
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">seata部署与集成</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>x14n</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>9/10/2022</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>seata</span><span class="tag-item" data-v-8a445198>分布式</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="一、部署seata的tc-server"><a href="#一、部署seata的tc-server" class="header-anchor">#</a> 一、部署Seata的tc-server</h1> <h2 id="_1-下载"><a href="#_1-下载" class="header-anchor">#</a> 1.下载</h2> <p>首先我们要下载seata-server包，地址在<a href="http://seata.io/zh-cn/blog/download.html" target="_blank" rel="noopener noreferrer">http<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><a href="http://seata.io/zh-cn/blog/download.html" target="_blank" rel="noopener noreferrer">😕/seata.io/zh-cn/blog/download<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><a href="http://seata.io/zh-cn/blog/download.html" target="_blank" rel="noopener noreferrer">.<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><a href="http://seata.io/zh-cn/blog/download.html" target="_blank" rel="noopener noreferrer">html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>当然，课前资料也准备好了：</p> <p><img src="/x14n-blog/assets/img/image-20210622202357640.f2db3eeb.png" alt="image-20210622202357640"></p> <h2 id="_2-解压"><a href="#_2-解压" class="header-anchor">#</a> 2.解压</h2> <p>在非中文目录解压缩这个zip包，其目录结构如下：</p> <p><img src="/x14n-blog/assets/img/image-20210622202515014.243c2404.png" alt="image-20210622202515014"></p> <h2 id="_3-修改配置"><a href="#_3-修改配置" class="header-anchor">#</a> 3.修改配置</h2> <p>修改conf目录下的registry.conf文件：</p> <p><img src="/x14n-blog/assets/img/image-20210622202622874.89227a1f.png" alt="image-20210622202622874"></p> <p>内容如下：</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">registry</span> <span class="token value attr-value">{</span>
<span class="token comment">  # tc服务的注册中心类，这里选择nacos，也可以是eureka、zookeeper等</span>
<span class="token key attr-name">  type</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;nacos&quot;</span>

<span class="token key attr-name">  nacos</span> <span class="token value attr-value">{</span>
<span class="token comment">    # seata tc 服务注册到 nacos的服务名称，可以自定义</span>
<span class="token key attr-name">    application</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;seata-tc-server&quot;</span>
<span class="token key attr-name">    serverAddr</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;127.0.0.1:8848&quot;</span>
<span class="token key attr-name">    group</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;DEFAULT_GROUP&quot;</span>
<span class="token key attr-name">    namespace</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;&quot;</span>
<span class="token key attr-name">    cluster</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;SH&quot;</span>
<span class="token key attr-name">    username</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;nacos&quot;</span>
<span class="token key attr-name">    password</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;nacos&quot;</span>
  }
}

<span class="token key attr-name">config</span> <span class="token value attr-value">{</span>
<span class="token comment">  # 读取tc服务端的配置文件的方式，这里是从nacos配置中心读取，这样如果tc是集群，可以共享配置</span>
<span class="token key attr-name">  type</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;nacos&quot;</span>
<span class="token comment">  # 配置nacos地址等信息</span>
<span class="token key attr-name">  nacos</span> <span class="token value attr-value">{</span>
<span class="token key attr-name">    serverAddr</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;127.0.0.1:8848&quot;</span>
<span class="token key attr-name">    namespace</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;&quot;</span>
<span class="token key attr-name">    group</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;SEATA_GROUP&quot;</span>
<span class="token key attr-name">    username</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;nacos&quot;</span>
<span class="token key attr-name">    password</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;nacos&quot;</span>
<span class="token key attr-name">    dataId</span> <span class="token punctuation">=</span> <span class="token value attr-value">&quot;seataServer.properties&quot;</span>
  }
}
</code></pre></div><h2 id="_4-在nacos添加配置"><a href="#_4-在nacos添加配置" class="header-anchor">#</a> 4.在nacos添加配置</h2> <p>特别注意，为了让tc服务的集群可以共享配置，我们选择了nacos作为统一配置中心。因此服务端配置文件seataServer.properties文件需要在nacos中配好。</p> <p>格式如下：</p> <p><img src="/x14n-blog/assets/img/image-20210622203609227.25035251.png" alt="image-20210622203609227"></p> <p>配置内容如下：</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># 数据存储方式，db代表数据库</span>
<span class="token key attr-name">store.mode</span><span class="token punctuation">=</span><span class="token value attr-value">db</span>
<span class="token key attr-name">store.db.datasource</span><span class="token punctuation">=</span><span class="token value attr-value">druid</span>
<span class="token key attr-name">store.db.dbType</span><span class="token punctuation">=</span><span class="token value attr-value">mysql</span>
<span class="token key attr-name">store.db.driverClassName</span><span class="token punctuation">=</span><span class="token value attr-value">com.mysql.jdbc.Driver</span>
<span class="token key attr-name">store.db.url</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc:mysql://127.0.0.1:3306/seata?useUnicode=true&amp;rewriteBatchedStatements=true</span>
<span class="token key attr-name">store.db.user</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">store.db.password</span><span class="token punctuation">=</span><span class="token value attr-value">123</span>
<span class="token key attr-name">store.db.minConn</span><span class="token punctuation">=</span><span class="token value attr-value">5</span>
<span class="token key attr-name">store.db.maxConn</span><span class="token punctuation">=</span><span class="token value attr-value">30</span>
<span class="token key attr-name">store.db.globalTable</span><span class="token punctuation">=</span><span class="token value attr-value">global_table</span>
<span class="token key attr-name">store.db.branchTable</span><span class="token punctuation">=</span><span class="token value attr-value">branch_table</span>
<span class="token key attr-name">store.db.queryLimit</span><span class="token punctuation">=</span><span class="token value attr-value">100</span>
<span class="token key attr-name">store.db.lockTable</span><span class="token punctuation">=</span><span class="token value attr-value">lock_table</span>
<span class="token key attr-name">store.db.maxWait</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
<span class="token comment"># 事务、日志等配置</span>
<span class="token key attr-name">server.recovery.committingRetryPeriod</span><span class="token punctuation">=</span><span class="token value attr-value">1000</span>
<span class="token key attr-name">server.recovery.asynCommittingRetryPeriod</span><span class="token punctuation">=</span><span class="token value attr-value">1000</span>
<span class="token key attr-name">server.recovery.rollbackingRetryPeriod</span><span class="token punctuation">=</span><span class="token value attr-value">1000</span>
<span class="token key attr-name">server.recovery.timeoutRetryPeriod</span><span class="token punctuation">=</span><span class="token value attr-value">1000</span>
<span class="token key attr-name">server.maxCommitRetryTimeout</span><span class="token punctuation">=</span><span class="token value attr-value">-1</span>
<span class="token key attr-name">server.maxRollbackRetryTimeout</span><span class="token punctuation">=</span><span class="token value attr-value">-1</span>
<span class="token key attr-name">server.rollbackRetryTimeoutUnlockEnable</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
<span class="token key attr-name">server.undo.logSaveDays</span><span class="token punctuation">=</span><span class="token value attr-value">7</span>
<span class="token key attr-name">server.undo.logDeletePeriod</span><span class="token punctuation">=</span><span class="token value attr-value">86400000</span>

<span class="token comment"># 客户端与服务端传输方式</span>
<span class="token key attr-name">transport.serialization</span><span class="token punctuation">=</span><span class="token value attr-value">seata</span>
<span class="token key attr-name">transport.compressor</span><span class="token punctuation">=</span><span class="token value attr-value">none</span>
<span class="token comment"># 关闭metrics功能，提高性能</span>
<span class="token key attr-name">metrics.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
<span class="token key attr-name">metrics.registryType</span><span class="token punctuation">=</span><span class="token value attr-value">compact</span>
<span class="token key attr-name">metrics.exporterList</span><span class="token punctuation">=</span><span class="token value attr-value">prometheus</span>
<span class="token key attr-name">metrics.exporterPrometheusPort</span><span class="token punctuation">=</span><span class="token value attr-value">9898</span>
</code></pre></div><p>==其中的数据库地址、用户名、密码都需要修改成你自己的数据库信息。==</p> <h2 id="_5-创建数据库表"><a href="#_5-创建数据库表" class="header-anchor">#</a> 5.创建数据库表</h2> <p>特别注意：tc服务在管理分布式事务时，需要记录事务相关数据到数据库中，你需要提前创建好这些表。</p> <p>新建一个名为seata的数据库，运行课前资料提供的sql文件：</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXoAAADYCAYAAADlAyjBAAAgAElEQVR4nO3de3QU5f0/8PeEWy5tlHKRS1Hhl8WgSSglDWTz8/SbUH+VELmJFvB4IO3pRj2FbAOe860iol8BvwcTd0FjCednkqNFQQQpm9361V/SoyZcDrYSIkJ2W6CIoBAqKgmi2ef3x+xM9n7LZcLk/eoZG+Z5npnnmcBnnv3MzI50pb1DIAqXLl3Cj370o2iqElE38d8b9SQp2kBPRETXpwStO0BERL2LgZ6ISOcGnz17Vus+EBFRL5KEEMzRExHpGFM3REQ6x0BPRKRzDPRERDrHQE9EpHODW1tbte4DERF1w+TJk8OWD45UgYhooGttbY0YTLUSzWSdqRsiIp1joCci0jkGeiIinWOgJyLSOQZ6IiKdY6AnItI5BnoiIp1joCci0jkGeiIinWOgJyLSOQZ6IiKd69FA39bWhilTpqC5uRkdHR0oKChARUVF1O2bm5tx8803o7m5uVv9KC4uRkVFBZqbmzFlyhS0tbVFbOPd92i0tbVh3LhxqKur61Zfe0OoY68cl2hEc+xi2V5/VVxcjIKCAnR0dGjdFdKp6upqPPXUUz5LX0sAuoKWJEnqEs8/4NWrV2PmzJnIyspCUlISLBYLLBZL1MHz+eefx6xZs5CVlRXzvoPJysrCb3/7W2RmZqoBq6KiwmecyjJy5EgcP34cU6dODVpeXFwcMNZz586hqKgoaP1gbaJ17tw57N69G52dnXGP/ZVXXsHRo0fVINbW1oa3334bq1atCtrXG264Ac3NzaioqPD53Ssnjbq6OtTV1cU9Jn89MUai60F2djYyMzMxaNAgdZ3/G1zfeOMNfPzxx73WhwRADlqrV6+GEAJCCNhsNqxatSqmYF9RUYHTp0+jsrJSXZeVlQWz2Yy77747YGYYLODW1NSgpqYmZOCMJ3iWlZVh9erVOHDggPpnZZzey8WLF5Geno4jR44ELa+urla3WVxcjJqaGowdOxYXL14MqFteXo7U1FT8/ve/j6mviv379+Po0aN4/fXX4wqESUlJGD9+PKqrq1FfX4+kpCSf33F7ezvy8/Nhs9nU33dKSgrGjx+PX/ziF9i2bRsuXboEAHC5XEhNTUVBQQEmTJiA06dP98gMuLtjJLpeJCQkoKWlBZ2dnRg1ahQAQJIktfxf//oXjh07hjfffBMtLS290wkRwvLly0V+fr5ob28PVUVVXl4uxo4dKy5evBhXubK/5cuXR9xXe3u7yM/PFwBiXpTtx7IN/2Pg3c/y8nKRmpoqjhw54rNd73Xx+P7778Wrr74q1q1bJ1599VXx/fffx72t5cuXiwceeECUlpaq68rLy9WxtbW1ifz8fFFeXu4zhvXr14v09HRRVFSklnlv02azieXLlweUaTHG7ojl7zkNXCdOnIir3ddffy02bNgg1q1bJz744APx/vvvi3Xr1gXUa2pqEuvWrRMbNmwQX3/9dY/3rVs5euVjvc1mwz/+8Q+MGDEiaL2ysjJs27YNI0eODPopoaKiArt371ZnwHV1dSFnjUlJSaivrw866xZeM+ry8vKws3IA6oxWhJjR22w2n/p1dXXIzMxUt1NWVobt27er6Z7k5GQUFRXh8uXL3Uo/DRo0CIsXL0ZaWhpcLldcs966ujpIkoTMzEysW7dOTaHdcMMNeO6553Dx4kUUFRVhxIgRWLVqFcrKynyOb1FREQCgpqZGLSsuLkZdXR2qq6sxZ86cuMfXU2P0Tzn6Xy9RjoGyrF+/HgUFBT2WfqL+5fDhw2hvbw9Z3t7ejsOHD/dhj4BDhw7h2rVrMBgMyMvLw4033ohJkyYF1MvNzcVtt92Ga9eu4eDBgz3ej6CBvrm5Gbt370ZRURGSkpJCNn7kkUdwyy23qOmBcObMmYP29nbYbDafIN7c3IynnnoKTz75ZI/l5gHg6NGjYfvd0NDgk18PlqMvKirChx9+CKfTqY5BCXpKkFEComLVqlUYN25cVBeAwxk0aBDuu+8+JCYmwuVyobGxMeq2FRUVKC8vR3t7O8rKynDixAlIkgSz2Yzz58/js88+w4gRI9Q01q5du9S0WHFxMSRJwtSpU3H8+HGMHDkSkiRh165duO+++7B06dIeC5TdGWNbWxsyMzN9Uo5nz55V/15VVFSgqKjI52TucrnQ0NDQI32n/uXQoUOoq6tDTU1N0GDf3t6Ompoa1NXV4dChQ33WL+WlIDNmzAAAZGRk4MEHHwxaNzc316dNTwoI9M3Nzbjzzjsxffp0PPzww2EbV1dXo7KyEgUFBWHz6pIkYdy4cWhvb0d9fb16Ymhra8Pdd9+Nr776yuciYVFRERoaGpCcnOyzDWXGpsxMg+2noKAAN998M06fPh0yj1xdXR1Vjv7ixYsYN24cgK5PL8p+MjMzcfTo0aCfKP7yl79g0qRJ3boo29nZiTfeeANXr15FWloa8vLyom5bVlaG+vp6vPTSS+rxBBD0mCq5QuUTj3JsysvLfa5BLFq0CIWFhfjnP/+JAwcOdPvOqO6O8ezZs7hy5Qpuu+02dZ3JZFL/Xj333HMoLy/3+eRRWVmJ/Pz8bveb+p+MjAyMGjUKFy5cCAj2SpC/cOECRo0ahYyMjD7rlzLhU+JIODfddBMAqNfHepJPoK+oqMDUqVMxffp01NXVqbN0/yCn3KEB+KZSjhw5gvT09IALlP4pEKBrRnblyhXccccdPjMvm82G/Px8tLe3+1w8VGRlZeHy5ctB69bX12Py5Mk4d+5c0DO7MmON5q4b73Vz5sxBXV2d2kdlVhwszeTdv2Apo0g6Ozvx+uuvw+VyIS0tDYsXL/a5Yh+LYCks/zSXPyVQnjt3LiDdNmLECHzyySc4c+YMampq1BN0rBdouztGg8GA6dOno6ioKGDfwU4CpG/JyclYvny5T7C/cuVKQJBfvnw5kpOT+6xfwnN3TTR/txMSEnz+vyclAF2BfNWqVbDZbAGpGP+8eKgc9JkzZzB27NioDuTq1auRnp6OkydPYvTo0T04JGD8+PEA5H/w/oLN5sPN6JV1yjHxP1GE+vTRndsr9+7d2yNB3l+0zwqsXr0av/vd75Ceno4zZ87AZrNhw4YNPp+iysvL8atf/Uo9kUSTvvPW3TEqfyePHDmCDz/8EMnJybwffoDzD/a1tbWaBnkAGDlyJADgs88+i1hXqTN8+PAe70cCIOesjx8/josXL3brItuuXbuC5vVPnDiB9PR0n4PsfetfTxsxYgRmzpyJd999V13nPfMONqsPNaP3/wV5nyj8b1P0nylnZmbG1f/c3FxkZmb2aJAHuk58yokwmLq6Opw+fRqzZs0C0BVQH3vsMZ9PKd393fXUGJVPTzabDQ0NDaivr8f48eORkpKCEydO+NRtb2/H8ePH494X9X/+wV7LIA9A/VS5f//+iHWVOgaDocf7kaA8SLNt27aQd81Eo6KiAm+//TaWLVvWg92L36JFi/DUU0+ps9cTJ07glltuQVJSUlw5+mAeeeQRAEBBQUFAWbiLwZGMHTsWCxcu7NEgDwDvvvsujh8/jkmTJoWc1b/zzjuwWCy9cgL21t0xNjc3Y+vWrT7rUlNTMWHCBIwYMQK//OUvfX7/QNdDbqRv3sFeyyAPADk5ORg2bBhaW1vx3nvvhaz33nvvobW1FcOGDcPMmTN7vB+DlXym/90jgPwP5/333494N0xxcTF2796N999/P+Bk0dHRAZvNpgbZWFRUVGDNmjUA5MAQ6gAoqROFzWbDnDlzsHDhQtx5553Yu3cvnnvuOWzbti3kvpTj4E3JR/urq6tDUVERli9fjvr6+oDyjo4OnD59GosWLYpqnL2lrKxMTcs1NDSoF1cBIDMzE+fOnVN/xwqLxQIAPXKxtTdlZWXh+eefx0MPPQQg8O+qcl1k6tSpaptnnnmGF2MHCCXYKz9rJSUlBfPmzcMbb7yBhoYGnD17Frm5uT7p5f3796O1tRWSJGHevHlISUnp+Y5EvNM+DJvNJgAEfaAGXg8dRXpYKth2wz3E4r39SA9ZKXWD9cH/walI21LGG6ye/5i1fAjnyJEjIjU1Ve1LuIeaQj3kdeTIEZGenh7xIbd4H5jSgjLWaB7MI/IW7wNTio8//lh9cCrYsmHDBnHs2LFe65skhN+XLhDpVEdHB+bMmYNbbrkl5juhaGBrbW3F5MmTu7WN9vZ2dfZ+8eJFDBo0CCNGjMDkyZMxY8aMuD95RNO3wXFtmYiIYpKcnIxZs2apNzr0JX4fPRGRznFGTwOGcqso0UDDGT0Rkc4x0BMR6RwDPRGRzjHQExHpHAM9EZHOMdATEekcAz0Rkc4x0BMR6dzg3ng/IRGR3lzPsZJfakZEpHNM3RAR6RwDPRGRzjHQExHpHAM9EZHOMdATEekcAz0Rkc4lAMDVq1e17gcREfUSzuiJ+tihQ4dQUFCAQ4cOad0VGiAY6In60KFDh1BTU4P6+nrU1NQw2FOfYKAn6iNKkK+srAQAVFZWMthTn2CgJ+oD/kFewWBPfYGBnqgPHDx4MCDIKyorK3Hw4ME+7hENJJIQQly9ehWJiYla94WIiHoBZ/RERDrHQE9EpHMM9EREOqdRoL+AXWsfxz1Vx2Jq9altM+4pfhz3FG/GrvMAzv8VpcrPREQU1OC+3+UF7FprQe0ZAGf+hHv2B6+Vv2I9yn4qB/eH3/xcXjnhLrxU/R/4safOp7Zm/DP3F7CO6Yt+ExFdn/o40B9DRfGfgBXrse+nwco9J4EfP4AyT/mPi1ZiXxGAv+3APW/5bmvnm58DCH6yUE4UREQDXd8F+r/twD1bPseyjeuxKOgMXD4JnL7XjH1FoyJu7mBViLrn/4rSPzTj5nE90msioutenwT6T22b8fChLLxU/Sv8WE3dZGFN9a8wA/CcBJqRv2I9rD6zcK80j8fDxe/IP0y4Cy+Z5CB/sOpxbB9nhrUI2FX5DnCvOcTJhIho4NHsgamDVY/jGSXlMuEuvPR0V+49GPVkEaReV6CP/EmAiGig0eium2No3A8AN2HZxvXYFyHIAxdw4NDnwJl38PDav+JTz7pdax9Hxd+6ah2siv1OHiIivevTi7E+d9AAAD5H7R8eR21AzZuwbOPKrvTL3+rl9M2Eu7AmpxmbbHfAOq5eTv/8FMBhudqMuXdh0h/+hIpsXoglIlL0SaBX0jST7n0Ayyb8Cf+aHy4QH0NF8btef76AXW81Iz83Cw2fAuOLluDOqnpUHGrGpHvNmAFA/TqoMf+Bpbnv4Jm3/or7fxrpUwIR0cDQJ6mbGab12Fe9Pq4c+qe211CLu3B/trJmFBZlAw1nsrA0yPZmmB5A/pl3sPNvAUVERANSv/8KhLOfAcse8Z6dyzP8SfcWyHfsBLgd9997ExoOM1dPRARo8mQs0LDlcTSErXETlnl+mmFaKQf0z5SyUVj09HosCtP6x0Ursa/bvSQi0gdNAn34p1b9c/SheN9jfxOWbeStlUREwfDFI0REOtfvc/RERNQ9DPRERDrHQE9EpHMM9EREOsdAT0Skcwz0REQ6x0BPRKRzDPRERDrHQE9EpHMM9EREOsdAT0Skcwz0REQ6x0BPRKRzDPRERDrHQE9EpHMM9EREOsdAT0Skcwz0REQ6x0BPRKRzDPRERDo3WKsdb9++HUIIuN1uCCF8fwZ81o8aPRrz585FQgLPS0REsdIs0LuFwNIlSyAAyP/xJgf7BEnCjh078LPp0/HW3r2YP28egz0RUYw0i5rC7VZn7m63G53+S6cbbiGfAZKSkjAjJwdv7t6jVXeJiK5bms3ohSeIB5vN+6+rra0FAAwZOrTX+0VEpDeaBvrOzs7ghRIgQZ7t37tokbq6srKybzo3gDlKJBS2WOBsLEWa1p0hoh6haY4eAL7etx/XPj6J706ex/dffOlTZ8jEMRg8+kYkF0xDUs4UtQ0REUVPuxy9J2hfftmBjoPHA4I8AHx38jw6Dh5Hx4FPlEZ92cUwHCiRJJQ49Lo/ItITzQK92+2Oo01/CfRERNcP7e5V9MTs4SsWILlgGobdcSsGj75RXYbcOgaJOen4wT25+ME9uXKTqGf08gxY8iwBM2GXFXle5VKeFS7fCrDmeZVLJXCoTfMgSYWoAlBVKJfnWV0R24UX7/5iHLejxGsfEvKsDnm//KhApGuaz+i/2tEAcaUDwzImIqUoF6mL85G6OB8/nJuLoRPHovOLf6O94SO5jYjmU4ADJVIhWixO9YGr+a1egdxRAsmwE/c7hafcCQvMMHgFe5d1E1DrVW6sQqGnPK20EULYYQJgsst1GkvTIrYLJ979xTJulzUPUmGVug0hBNYcK4S5KYpDSkTXNc1vr+z84kt0fPElOg4eD1k3Of8ncptoUjeuVrQAyJjcFQxnl5YqhbA+Iwe7rliZhtJaC3YadqLOVYrSNCCtdCtK4VW+xgRz4TE4gbB3ovR1Ox9hx+3AJnMTjBYnts7uajJ7qxOWFgPM0e6DiK5L2s3oPbPz4SsWIDEnPSB1M3j0jfGlbtLm4H6jJ83hP5t21WFnU1cKRF0MZjShCcecXVUdJV7lhVVRjyt0O//0TB68MzDx7i+6cQeeBIho4ND8rpv2hr9j6MSxSJk1DTf8ZjaGr1iA4SsWIHVxPoZlTPTU+cinTXhpKG0UEE4LjE1mGILk4L3TF96LPNuV89yFVSbYlTK7KYr9Rmrn6Ze6v0bPp4p49xf7uIloYNIsdaNcjP225RS+bTkVtqqauonl9sq0UjSKUjknX2jGJkcpts6ejAwALa0uYHaI2a3jLVTBCItzK5Qsh6u1BUBG+P31dbtQYhq3E8ea4t8VEV0f+kXqRknbeJNSEuWHpfJ/oqZuoroY67KiJOCuFCNuNwDAbDxqMaLJbPC9I8VlRZ7PCq80jsuKZSGuWLa0+u8nunaB4tmf5w4bpd8Rxj3fBDSZl/mli+S7eYhI54QQoqOjQ/S1zVu2iG+vXYtpWff0f0W1bbsJAlAWo7A4fcudFqNXOQSMFuEMVW60CKfdJACTsPvuRK1j9OwgqnZBxLc/p7AYIWCye1UJP27fcgijxR58G37Hg4iub5IQQly9ehWJiYl9eoKxbtmChx96KKY2Gzc+iyfXPtFLPRqIXLDmGWDOsEN4345DRLqi3e2VboEXXnwRwi3klIyQc/BuIeSvMPZ5AYkbQoDfdUNEFAfNAr25dKVWuyYiGlD4uiYiIp3TLEdPRER9gzN6IiKdY6AnItI5BnoiIp1joCci0jkGeiIinWOgJyLSOc0emNq+fbv8JKzyFKz3z4DP+lGjR2P+3LlISOB5iYgoVpoFercQWLpkifxtxQHfbCAH+wRJwo4dO/Cz6dPx1t69mD9vHoM9EVGMtHvxiNutztzdbjc6/ZdOt/rdNklJSZiRk4M3d+/RqrtERNctzd8ZG2w277+utrYWADBk6NBe7xcRkd5o+irBzs5OCM//ur4mHYAESJI827930SKsWLkSK1auhNsdxYtHdMPzjlmfF6Lok6OErz0k6k2a5ugB4Ot9+3Ht45P47uR5fP/Flz51hkwcI79lqmAaknKm8GuKiYjioHnq5vLLoWes3508j+9OnoeUnIiknClAvwn0DpRIhYBdeaE4EVH/pd07Y+NIw7jd/SXQExFdP7S7V9ETs4evWIDkgmnqC8KVZcitY5CYk44f3JOrvhxcRD2j97w427MEpLldVuR5lQfmhz35cbVOCRxq0zxIkvxS7apCuTxPfeN26HaRu1zi1U6CVFIXvF6EvjtK5Ly+3E/fOj7rgvXNf9vBjl1gx8Mfa79x5VkdA+baA1F/ofmM/qsdDRBXOjAsYyJSinKRujgfqYvz8cO5uRg6cSw6v/g32hs+ktuIaD4FyGmVFotTfeBqfqtXMHSUQDLsxP1O4Sl3wgIzDF4B02XdBNR6lRurUOgpTytthBB2mACY7HKdxtK0iO3Cd7kEUmGVuj0hBOwww9wUpF6EvgMAqgqxDLVyHacFxiYzDJIEw7E1nnZ2mFCFQu9g6yiBZDAjw6sPwmlBS6H3iSy2Y+2y5gWMa82xwsBxEVHvEkKIjo6OXn4HeaA//nGr+PbaNfGPOf8ZcTn33Ovi22vXxMZn/zvyhp0WYQSEyR60UFiMQcqcFmGEUVicIbZpNwnAJLqa2YUp5D7CtQtaSZgAYQzYudxXqDuJru92EwSMFuG9NbsJAf3wrReqD0I4LcbQYwh7rKMdV/A+E1HP0W5G75mdD1+xAIk56QGpm8Gjb4wvdZM2B/cbPWkV/5muqw47m7pSLupiMKMJTTjm7KrqKPEqL6yKelyh2/mndfJgdQFwtaIFQMbktPAbjqHvyJiMgK0Zb4fB64+G241e2w7dh7TJGQBa0BpsUh/2WEc5LiLqdZreRw8A7Q1/x9CJY5Eyaxpu+M1sDF+xAMNXLEDq4nwMy5joqfORT5vw0lDa6Juy8A9C3qkE70W+g0bOORdWmWBXyuymKPYbqZ2nX+r+GlEaRwwM3/e+FvlYE5H2NL8Y+23LKXy1owGXNu9B28bXcOGJalx4ohqXNu/B5Zcd+Gbffri/6ZCbxHJ7ZVopGpVg22TGJgeAtMnIANASdHrq4XgLVTDC4twKJXa6Wlsi7y/ediH75MSxpmjq9YAw25bHkIGwE/OYjrXfuIio1/WL1I2StvEmpSTKD0vl/0RN3UR1MdZlRUnAxUMjbjcAwGw8ajGiyWzwvTvEZUWezwqvVIjLimUhrh4GBrHo2vmajfkmoMm8DN7ddpTId/Z414uu7/EIsW1HCQzmJpjsysnLc4eNUinCsY5uXETU2zR/YCqlYBpSCqZF1Saq++jTSjH/mARJUlYYYXF2pUnSShvhRB4MhVJXwDFa4Gz0zMNnb4XT0tJVbrTAaTfBUOi9k9nYajdBKjRAMgNGixONpdG0C272VgE7JBQaJJg960x2JywtBvXPUfW9G9JKGyEml0Dy3jaMsDiFV4rJAO/UfqRjHWxcRosdFmOhz7iIqHdJQghx9epVJCYm9umOrVu24OGHHoqpzcaNz+LJtU/0Uo+ob7hgzTPAnGGH4GPFRH1Cuxm9W+CFF1+EcAs5JSPkWb5bCPkrjH1eQOKGEOB33RARxUGzQG8uXanVromIBhS+romISOc0y9ETEVHf4IyeiEjnGOiJiHSOgZ6ISOcY6ImIdI6BnohI5xjoiYh0TrMHprZv3y4/Cas8Bev9M+CzftTo0Zg/dy4SEnheIiKKlWaB3i0Eli5ZIn9bccA3G8jBPkGSsGPHDvxs+nS8tXcv5s+bx2BPRBQj7V484narM3e3241O/6XTrX63TVJSEmbk5ODN3Xu06i4R0XVL868pDjab919XW1sLABgydGiv94uISG80DfSdnZ3BCyVAgjzbv3fRInV1ZWVl33SOeoSjREJhiwXOxtLAd9gSUZ/RNEcPAF/v249rH5/EdyfP4/svvvSpM2TiGPktUwXTkJQzhV9TTEQUB81TN5dfDv0avO9Onsd3J89DSk5EUs4UoN8EegdKpELArtVLuYmIoqfdO2PdUbz/NaBNfwn0RETXD+3uVfTE7OErFiC5YJr6gnBlGXLrGCTmpOMH9+SqLwcXUc/oPS+x9iwB7852WZHnVS7lWeH7imsXrHle5VIJHGrTPEiS/ILrqkK5PE99+3XodvH3N4ptOkq8yiXkWR1yG9+3iMfYtwjHMKp9ElF/oPmM/qsdDRBXOjAsYyJSinKRujgfqYvz8cO5uRg6cSw6v/g32hs+ktuIaD4FyGmVFotTfeBqfqtXIHeUQDLsxP1O4Sl3wgIzDF7B3mXdBNR6lRurUOgpTytthBB2mACY7HKdRs/bsMO1i7e/kbbpsuZBKqxS+yKEwJpjhTA3+e4ltr5F6lN0+ySifkIIITo6OkRf++Mft4pvr10T/5jznxGXc8+9Lr69dk1sfPa/I2/YaRFGQJjsQQuFxRikzGkRRhiFxRlim3aTAEyiq5ldmELuI1y7WPsbaZtyP4wBHZfHiXAbDde3sH2Kfp92EwSMFhHqsBJR39BuRu+ZnQ9fsQCJOekBqZvBo2+ML3WTNgf3Gz1pFf8Zq6sOO5u6Ui7qYjCjCU045uyq6ijxKi+sinpcodv5p07yYHVF6G+kbbpa0QIgY3J0Ny9GPaawxzC2fRKR9rR7MtYTtNsb/o6hE8ciZdY03PCb2Ri+YgGGr1iA1MX5GJYx0VPnI5824aWhtFFAOC0wNplhCJKD9045eC/yHTRybrqwygS7UmY3RbHfSO08/VL31wg54xOuv/H2Jda++Yt8DIno+qH5xdhvW07hqx0NuLR5D9o2voYLT1TjwhPVuLR5Dy6/7MA3+/bD/U2H3CSW2yvTStGoBLQmMzY5AKRNRgaAltYwIcvxFqpghMW5Fcqdk67Wlsj7i7dduP5G2mbI8ThxzDtfHm/fYjqGfvskon6jX6RulLSNNyklUX5YKv8nauomqouxLitKrP5ByIjbDQAwG49ajGgyG3zvInFZkeezwiuN47JiWYirjIHBLrp20fc30jZnY74JaDIvg/cmHCXyXUHR981zh41yDCIcw+j3SUT9ghDaXIzdvGWL+PbatZiWdU//V1TbtpsgAGUJvMjqtBi9ygMvGPqUGy3CGezCpd2k1lEuTEbVLsb+RrNN3/YQJnvghdHw2wlxITXMMfTfp9Fi58VYon5KEkKIq1evIjExsc9OLgBg3bIFDz/0UExtNm58Fk+ufaKXeqQnLljzDDBn2CH67NFdLfZJRNHQ7isQ3AIvvPgihFvIKRkh5+DdQshfYezzAhI3hAC/6yZanruLTGsYcIlIw0BvLl2p1a51xWXNwzLUqg9tAQ6UGMxoMlpQyzhPRNAw0FPPSCttxJoSCZLktdLE9AkRddEsR09ERH2DL2AlItK5HkndXJpgiFyJiPqtH51xRq5E1y3m6IkIVc1a94B6EwM9EWH6TVr3gHpTjwd65SNgVQ3lPqEAAAaxSURBVDP/8hD1ZxOzmXIdKHgxlohI5zRL3Zz4f9vlJ2GVp2C9fwZ81t84cjT+V+5cSAk8LxERxUqzQO8WAkuXLJG/rTjgmw3kYJ8gSdixYweMP5uO/U17Mck4j8GeiChG2r14xO1WZ+5utxud/kunW/1um6SkJOTNzMGJ9/Zo1V0iouuWdl9qpnxBWZDZvP+62tpaAMCQoUN7vV9ERHqjaaDv7OwMXigBEuTZ/r2LFqmrKysr+6ZzpAuNj0oo/cSCPbZSTNC6M0Qa0jRHDwBf79uPax+fxHcnz+P7L770qTNk4hj5LVMF05CUM4VfU0xEFAfNXw5++WUHOg4eDwjyAPDdyfPoOHgcHQc+URr1ZRfDcGDDGAkb6vvr9oiIumj3zlh3FO9/DWjTXwI9EdH1Q7t7FT0xe/iKBUgumKa+IFxZhtw6Bok56fjBPbnqy8FF1DN6eYac7VkCZsqnrPi1V3l2kRVnfCq48FqRV/mYEjR6Ss5U5SF7TCF2A9i9VC7/dZUrYrtQwm8vcCyBfe358Tc+Kq9rrMpTy197NPi+G/3Xx7Ht4OOJMIb6Eq/jLOHXVQ752D/qCLo1ooFM8xn9VzsaIK50YFjGRKQU5SJ1cT5SF+fjh3NzMXTiWHR+8W+0N3wktxHRfApwYMOYQrieduLweYHD5wV+7vIKJvUlyJ65E3cdEJ5yJ1bBjAVeAedM1SbgBa/y7CqUesonmBpx+LwdCwEs3C7XedmUFrFdKOG2Jwcz37EcfgH4IGyKp/vjBwAcNqPUuUauYyvFktkm4PBOfHDKq84pK/7vK8DCMs/Fzji3HXihNPwYzlTlIXtplXq8Dp8X+I2zEOWHwx0XooFL8xx95xdfouPgcXy1owGXX3bg0uY96vLVjgZ0HDwO9zcdcptoUjenWuECkJaWpq7KMynBxIXXKqqwcHsjltyqlKZhyQsWZHkFsQmmrb7lZSbg8DH8K8Ku420XnNxXPGjvCvwAcGsplhSEadYD45eZYN3k9ZaqgkexKrsJ7/xP16eNM/+zE80w4ecF3dx2TGNw4JW1Tch62onHvI5D3iYnVmWHOS5EA5h2M3rP7Hz4igVIzEkPSN0MHn1jfKmbW+fgrmxPGsR/JnmqDu8c7kqRqMtMM5rRhJP/7Kra+KhX+dKqqMcVup1/WicPr50KuRm1rwtnhwqIIbbXQ+NH9u242Wd/afjfc41o/nOdZ5sufPDnJmQ9/Sjyur1tP2HHEHgSIKLwNH9gqr3h7xh2x0QMvulGSCmJSEiWX2nYeeFLdH5zFZ0XvkR7w0cYOnFslDn6NCyxCSw5ZcWvZ5qxYIwZyPa9l3rhduEzG/Qlpw12wwTr+a1yEKsvQfbSSPuN1M7TryhGEJ1Q2+vu+EOb8H/uR9ZaM16pL8Vjk+rwzmEj7nrBN+DGu+1Yx0BE0dP8Yuy3Lafw1Y4GXNq8B20bX8OFJ6px4YlqXNq8B5dfduCbffu7Ujex3F55aylePi9weLsJOGzGK/UAbp2MNAAulyt0u/q3sBtGrDrgCdYAzrhaIu8v3nYh+x9FX8O2j3P8Ebb5mweB3Q6HnLZ5cE1Xmqa72w6xv+jH4MRJ5uiJguoXqRslbeNNSkmUH5bK/4mauonqYuwpKzZU+QcBIyZOAoDZePBpI5rXGnzv4jhlxa997tbwSjWcsuLJtU1BdxUYbKJrF4rv9kL0tb4k/P32PTL+0PJmm4BXnsGTf27ySyt1Z9ueO2yUehHG8PMHgea1y3xSX42PyncuEVEgzVM3KQXTkFIwLao2Ud1Hf2spfu6UkD1GWWHEqgNdFwgnmBqxB3lYsFTqCgzZFuyxeYJWwVbsebqlqzzbgj3bTVjgk7qZjce2m5C91IDstUDW0068bIqmXSjBtpcm35GTVoJs774+aMfhTb04/kgK5mMhqrAbFjzll6KJf9sGTPS+kBphDHmbBKyQUDpTQrmnRtbTdqzKLlT/TERdJCGEuHr1KhITE+PeiPfLwaN9w9QHO7fg4Yceimk/Gzc+i6KSJ+LqI+mdC68VGVA+xY7D4e7oIZX3G6ZOHubLwfVMuxm9W+CFF1+EcAs5JSPkWb5bCPkrjH1eQOKGEOB33RARxUGzQH/n4pVa7ZqIaEDh65qIiHROsxk9Uc/q6ecUiPSDM3oiIp1joCci0rkeT90ot1ouilCPiPqPDz/XugfUm5ijJyKYsrTuAfUmpm6IiHSuR56MJSKi/oszeiIinWOgJyLSOQZ6IiKdY6AnItI5BnoiIp1joCci0jkGeiIinWOgJyLSuf8P8sGXZeruK1sAAAAASUVORK5CYII=" alt="image-20210622204145159"></p> <p>这些表主要记录全局事务、分支事务、全局锁信息：</p> <div class="language-mysql extra-class"><pre class="language-text"><code>
SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- 分支事务表
-- ----------------------------
DROP TABLE IF EXISTS `branch_table`;
CREATE TABLE `branch_table`  (
  `branch_id` bigint(20) NOT NULL,
  `xid` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `transaction_id` bigint(20) NULL DEFAULT NULL,
  `resource_group_id` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `resource_id` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `branch_type` varchar(8) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `status` tinyint(4) NULL DEFAULT NULL,
  `client_id` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `application_data` varchar(2000) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `gmt_create` datetime(6) NULL DEFAULT NULL,
  `gmt_modified` datetime(6) NULL DEFAULT NULL,
  PRIMARY KEY (`branch_id`) USING BTREE,
  INDEX `idx_xid`(`xid`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Compact;

-- ----------------------------
-- 全局事务表
-- ----------------------------
DROP TABLE IF EXISTS `global_table`;
CREATE TABLE `global_table`  (
  `xid` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `transaction_id` bigint(20) NULL DEFAULT NULL,
  `status` tinyint(4) NOT NULL,
  `application_id` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `transaction_service_group` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `transaction_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `timeout` int(11) NULL DEFAULT NULL,
  `begin_time` bigint(20) NULL DEFAULT NULL,
  `application_data` varchar(2000) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `gmt_create` datetime NULL DEFAULT NULL,
  `gmt_modified` datetime NULL DEFAULT NULL,
  PRIMARY KEY (`xid`) USING BTREE,
  INDEX `idx_gmt_modified_status`(`gmt_modified`, `status`) USING BTREE,
  INDEX `idx_transaction_id`(`transaction_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Compact;

SET FOREIGN_KEY_CHECKS = 1;
</code></pre></div><h2 id="_6-启动tc服务"><a href="#_6-启动tc服务" class="header-anchor">#</a> 6.启动TC服务</h2> <p>进入bin目录，运行其中的seata-server.bat即可：</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARwAAACWCAYAAAAMqDfqAAASNUlEQVR4nO3dfVAUZ54H8O+ol4hu9PbUGFDOJAuRuL5caRLWYa1duLyUgIkXlajZXeWPDGuqIpyQq/L0cklOz81GyKC7GCe3FXQNp4a4phwgJhak1kCEU++YuFR05rLnIkEvsKlkF6hwwnN/zHTTM9P0zPTMPAh8P1Vd4jwv/TzPzPzm6adnui2XL18WICKSwCKEYMAhIikmjHQDiGj8YMAhImkYcIhIGgYcIpKGAYeIpGHAISJpGHCISBoGHCKShgGHiKRhwCEiaRhwiEiaMRFw8vPzkZWVhb6+vpFuCt3Cwn2d8PUUPxPy8/MBAGVlZbBYLH7b9OnT4XK5DCuI9snp7OzEiRMnMDAwYKr8eMAxkjcGfX19uHr1alz3MZ5NqKioUP+TmZmJ3t5eCCEghMDZs2exYsUKKEFJj1L+wIEDphrw8ccf45NPPsHRo0fH9RvKyGgYo+7ubiQlJaGmpiYu9csag4SEBNTX16O+vh4JCQlx2894NcFoUBcvXozPPvsMp0+fRllZmW6ehIQEFBcXY+/eveju7o64AU888QRSUlLg8Xhu6TfUSOIYcQzGipBrODNmzEBJSYkaUPr6+pCVleV3GJWVlYW0tDScO3cu4gZMnDgR69evj/mLyeVyYfr06erhYeBhn/KJrKRrP5mN0vTqDsyjjFF+fr7foWpSUpKpoByLMYq0T4HjpfRJry9lZWWYOXMmOjs7kZubC4vFon5AGZWTPQbD9TVwBq9dJoj1cznehbVo/PDDD2PSpEno6OjQTU9ISMC8efNQXV1tqhETJ07EunXrMHnyZHg8HjQ2NpqqR1FTU4MVK1bg7NmzEEKgt7cXAJCTk4O+vj50d3dj0aJFKCkpUQ8fOzo6QqYpdS9ZsgRVVVVqemtrKzZu3Bg0C6ysrAQACCHQ1dUFACgpKTHVp2jGKJw+GY0XABw+fBh2u11NT0tLw7p169DX14dt27ahq6sLiYmJcDqdEEJg27ZtIcvJHANFQ0MDtm/fjuvXr6vP3YkTJ4adwSti+VyOa8KntLRUZGZmit7eXhGotbVVTJs2TTidzqA0hdPpHLZ8KDdv3hRHjhwRL774ojhy5Ii4efNmROU3b96s7ru3t1dkZmYGtbW1tVUkJyeL1tZWw/4YpXV1dYnExERRWloalFZaWioSExNFV1eX2obA8dDmiVQ0Y2TUp3DGS4/T6fTrizI2Rq8RvXKRiMXrRG/fgc+L3uspls/leBb2afHp06cjOTnZMM+nn36qfjqGa2BgAEePHoXH40FKSgrWr1+PiRMnRlSHltvtxoULF9SpvbItWbIE7e3taG9vR2pqKpYtW4bc3NygQwejtI6ODvT09GD+/PlB+50/fz56enr8ZoHz5s2LycJjtGNk1KdwxkuRn5+vpufm5oa9f7PltGL1OklLS8OUKVP8HtN77gLF6rkc78IKOGfOnMHNmzcxZ86cmDfg3XffjVmw0VKm9oFbTk6OeiaitbUVFy5cwJQpU9Q3olHaSIl2jMLpk9F4Kes/p0+fRldXF4QQcDqdIfdrtpyeeL1OSK6QAae7uxt79+5FSUkJZsyYYZhX79MjlOXLl2PRokUxexHNmTMHU6dOxeXLl0PmXbx4Mb766is4nU40NDSgvr7eMM2o7suXL2Pq1KlxCcqxGqNI+6Q4d+4cenp68N5776mvgXDG12w5PbEaA71ZeHV1NZYtW4bU1FTT9VJ4DANOTU0NZs6ciccee0xdBNQ7SwV4X0hmpp2JiYl48sknY/aJpZxVKy4u9jsT43K5UFRUpP598OBBv3LTpk1DcnKyYdpwddfU1KC4uBhvvPFGyKBsRrRjZKZP2vECgK+//lo9vHK5XHjppZd09xUYUMItF0qsXiednZ1+i701NTWorKxEcXExD5lkUBZzSktLBQC/TW9RTG8RTXlMbzFVBu0inyKwP4HpmzdvVtOmTZvmtzhqlCaEd+FTW3dgHmU8Nm/e7FduJBcaQ/Up1Hhp0zMzM8Xbb78d1BftuCivhXDKyaK8Tnbt2uXX18CFbr1F41vpuRzNYnJfKpfLhaeeegofffRRXD7hiWhsmBCLxdDXXnsNzzzzDIMNERma8Oyzz0ZVQX5+Pq5evYotW7bEqElENFbxVr9EJM2YuB4OEY0ODDhEJA0DDhFJw4BDRNIw4BCRNAw4RCQNAw4RScOAQ0TSMOAQkTSTrly5MtJtIKJxgj9tICJpeEhFRNIw4BCRNAw4RCQNAw4RScOAQ0TSMOAQkTQMOEQkDQMOUZhaWlqQlZWFlpaWkW7KqMWAQxSGlpYWVFZWor6+HpWVlQw6JjHgEIWgBJuKigoAQEVFBYOOSQw4RAYCg42CQcccBhwiA83NzUHBRlFRUYHm5mbJLRrd+ONNIpKGMxwikoYBh4ikYcAhImkiDDhfoPqFHVjlaIuo1DXnPqzK34FV+ftQfR3A9Q9RqPxNRONGBIvGX6D6BTsOtRvnynxuN7Yt9QaZLe/c8D6Y/AgOvPxDzPXluebchy2fP4xTtgWmG05Eo8+k8LK1oSz/LeC53Ti1VC/dF4zmPo1tvvS5uVtxKhfAxWNYddK/ruPv3ADwFlZ9HFyTErCIaOwJHXAuHsOq/Tewac9urL1LL4M3GF1dU4RTubNCVtfsGCbv9Q9RuN2Fv04Kr+FENPoYBpxrzn3Y0rIYB958CnPVQ6rF2PnmU0gHfMHIhczndqPcb1YSfPi1Jf8D7x/Jj+CAzRtsmh07UJVUhPJcoLriA2BN0TBBjYjGgoi/+Nfs2IFdyqFQwNqMHjVo6eQbCjihZ0ZENPpFeJaqDY0fA8BsbNqzG6dCBBvgC5xruQG0f4AtL3yIa77Hql/YgbKLQ7maHZGf+SKi0SesRWO/M04AgBs4tH0HDgXlnI1Ne7YOHRZdrPceViU/gp0PufCq87soT6r3HpYtBXDemy398Udw7/a3UPYAF4yJxjLDgKMcPt275mlsSn4Lf1htFBDaUJZ/RvP/L1B90oXM5YvRcA2Yk7sBKxz1KGtx4d41RUgHoP7s7a4fYuPyD7Dr5IfIWxpq1kREo5XhIVW6bTdOvbnb1BrLNee/4xAeQd4DyiOzsPYBoKF9MTbq1JduexqZ7R/g+MWgJCIaI+L204aOz4FNz2pnK94Zz71rsrxnuIIsQN6a2Wg4z7UcorEqzC/+eTXs34EGwxyzscn3V7ptqzewfK6kzcLal3djrUHpublbcSqSBhHRqBJRwDH+FnDgGs5wtN/RmY1Ne3hKnGi84AW4iEgaXp6CiKRhwCEiaRhwiEgaBhwikoYBh4ikYcAhImkYcIhIGgYcIpKGAYeIpGHAISJpGHCISBoGHCKShgGHiKTRvTzFH5NTZbeDaFh/1e4e6SZQjHCGQ0TSMOAQkTQhr/jH6SyNBB7Wj02c4RCRNAw4RCQNAw4RScOAQ0TSMOAQkTRh35fqX39eGpMd/uM/FMekHiIafeI2w1mRYdX9l4jGr4juvPn832+NqPLvPfQAACD9wWUAgLONTRGVp/irK7Ag+5Id7sZCpIx0Y2jMi3qG09zcjPLycjQ3N+umKzf25A0+iSiqgFP561/jjll3IXvdBtw2YzZ+8brDL10bbG6NgFOHAosFBXUj3Y6xiGNLoZkOOC6XC9YVP0DavfPQ2vRbLPrO3Vj+t4/C5XIBuBWDDRGNNNMBp6GhAVMTEnCiuhobNmzAyXeqMf2OO9DQ0KAbbMILOt5PSYtvC/q09JQjQ5NuySiHxz8DyjM06ZYC1KlFM2CxZMMBwJHtTc8o94QsF8/21hV4H6srz1DTywv0+jWU1xNF3YF1GrY1uDMmx5ZIQ+jonpuibordr+wV/f396nb+/HnRdsUjvunvF1VVVaLvm35x4VOPqKw6Jg6fqBHO9+vFl19+Kfr6+kRvb6/o7e0Vu1/Zq7c7n1phA4TV7h56xG4X6v9qbQKwiqFkt7BbIWAdyuO22wzTlX3Yav33HLpcfNpba4MAIKBtUFA5IYTbLqzadputW68XSj5tf3370/bN7NiapfcapNHPdMDp7+8X//arX4nfXfEI9x86xH9+6hYvv/qaOHzxurj+5/8Tb57vEGd+26gGm56eHuOAE/im8k8UdqtOmtsurIFvTq1amwBsYqhYmG+KoHLxaa/3zR64H29Z/ze7VZMvmrr1uqqfz3+fugXNjW2YGHDGpqgWjX/y4x/jjzc6cfJYFf70v5245zv34bH7ZuDM7/+ElWmz0PHFl8osKvQhVUoO8qy+KXng9N9Tg+NNQ9N1dUstQhOa0Ka5gkZdgSY92xG4l2ENXy7wUCID5Z7YtRfWBfC/EEMKcvKsaDpe46vTg5rjTbDan8fKqOsehk6+lPsWAriEK5qOmR1bIkXUp8XT09OxdetWpKenI2nWt/H+lW48fM8deO9yF5YuvD+CReMUFDYKCLcd1qYipOqsO9hqhVqfdju4ElDWU7IdNtQqabW2MPYbqpyvXer+GlGYEov2GoxETh6sTUV4tQ6+AGNFXo7/t2TM1m2O2bEl8hd1wBGaReGlC+/Ht7va8P7p01g46UskzfzLyL+Hk1KIRuUFrbzpUu7DQgCXrhgsRNadhANW2N0HobznPFcuhd6f2XLRtjdEnTttgONkHTw1x9Fk2+kLcjGoW09TGwIvs1Z30gFY85CTgujHiMgnqoCjDSZCCEyePBlZ3/8e1q7Mwv0pd+P222/3y2fIU46CoDMbVixIBYCVeN5uRVNRqv+ZIE85Mvwe0BxSeMqxqUj/m83Bb9bwysW+vcNbudoGOHZh0/Em2FZrpy3R1O07qxaUz4Fs7WN1Bch2ALad2m8fmx1boiER/bTh1df2xasdQEohVrdZYLEoD1hhdzeqn+wphY1wIwOp2RaoqwdWO9yNvjfjyoNw2y8NpVvtcNfakJqt3clKHKy1wZKdCksRYLW70VgYTrk4tDeUlathgwMO2HEooIj5ulOxQO8nbVY7ahfsgsUy1GlbrebwzPTY8scS5M8idKYf2uvJ8prGNBL4GhybeD0cIpKGAYeIpGHAISJpQi4a8/5ARBQrnOEQkTQMOEQkje5pcSKieOAMh4ikYcAhImkYcIhImoh+SwUAVVVVEEJgcHBQ/dGm+jfg9/isO+/E6scfx4QJjGtEZCLgDAqBjRs2QABA0HKzN+hMsFhw7NgxPLhsGU6++y5WP/EEgw4RRX5IJQYH1ZnM4OAgBgK3gUEM+k58JSQkIP2hh/DOid/Eut1ENApFPMNRz6LrzG4CHzt06BAA4C9uu81E04horDEVcAYGBvQTLYAF3tnPmrVr1YcrKirMto9GUF2BBdmohYjPdUtpHDK1hgMAWX+3Pqz89b85qpYhovEt8jUcTfDIeOhBzL5zVjiFIt1NnPB2tEQjKeKAMzg4qP79rW9NwR1Tp4RR5lYJOEQ0kiI/V62JHR81/wf+3NOLu+6cFbT5FQl7hsNb/cq/1W+IPqhjF+nYEAWLaoaTcs/deCzzB7qbXxkxGFiNjjoUWLJxye5Wvzi4+ormTVJXAEvqceS5lXswuWFHEVI1byRP+avAIU261YFsX3pKYSOEqIUNQ/d0Ui7ybVQunu0FADQVIbttpzdPYyEKV9uApuOo0WbylGOX9i4KJusOvqR5iD4AgCMbm3DIl14LG8IZG6JhRHqrztdfPyi+6e8XGTlPikfzfiTW5Beo26N5PxIZOU/6bd/094s9P3sldMW81a9fWSm3+jXsg6+OgHush7wFMJGByGc4mtnK3yz8Ln6yfq26fT/9weGCWuiKeatfZSDk3erXqA+KhffpzIyIzInqLNV/XfodDh+tVrfWS21B6zeBZYbHW/2qe5R2q9/QfSCKpagWjQNnOMoWVCSS0+K81a/8W/3q9YEoDkwfUt115yz89+//x2+Go2yBZ6vCWjTmrX79SLnVr2EfiOIg0kWfffv3i2/6+yPaXnz5X8Kq27vQqWzBi8HeBUtNHt0FTU2a3uJvrU3NoyzMhlUuDu3VW5TVpAqbTpno6vYuOEOzSmzUh1qbf96h/XLRmMyJ+JrG5fv3Y8tPfxpRUNuz52f45xf+KaIyRDT2RP7jzUGBX/zylxCDwnuoJLxrNINCeC9d4XchrkEIAf6WiogA8K4NRCQRL8NHRNIw4BCRNAw4RCQNAw4RScOAQ0TSMOAQkTQMOEQkDQMOEUnDgENE0jDgEJE0DDhEJA0DDhFJw4BDRNIw4BCRNP8PyYZ/pURcTbAAAAAASUVORK5CYII=" alt="image-20210622205427318"></p> <p>启动成功后，seata-server应该已经注册到nacos注册中心了。</p> <p>打开浏览器，访问nacos地址：http://localhost:8848，然后进入服务列表页面，可以看到seata-tc-server的信息：</p> <p><img src="/x14n-blog/assets/img/image-20210622205901450.407ec9f6.png" alt="image-20210622205901450"></p> <h1 id="二、微服务集成seata"><a href="#二、微服务集成seata" class="header-anchor">#</a> 二、微服务集成seata</h1> <h2 id="_1-引入依赖"><a href="#_1-引入依赖" class="header-anchor">#</a> 1.引入依赖</h2> <p>首先，我们需要在微服务中引入seata依赖：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-alibaba-seata<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--版本较低，1.3.0，因此排除--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>seata-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.seata<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--seata starter 采用1.4.2版本--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.seata<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>seata-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${seata.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_2-修改配置文件"><a href="#_2-修改配置文件" class="header-anchor">#</a> 2.修改配置文件</h2> <p>需要修改application.yml文件，添加一些配置：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">seata</span><span class="token punctuation">:</span>
  <span class="token key atrule">registry</span><span class="token punctuation">:</span> <span class="token comment"># TC服务注册中心的配置，微服务根据这些信息去注册中心获取tc服务地址</span>
    <span class="token comment"># 参考tc服务自己的registry.conf中的配置</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> nacos
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span> <span class="token comment"># tc</span>
      <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">8848</span>
      <span class="token key atrule">namespace</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span>
      <span class="token key atrule">group</span><span class="token punctuation">:</span> DEFAULT_GROUP
      <span class="token key atrule">application</span><span class="token punctuation">:</span> seata<span class="token punctuation">-</span>tc<span class="token punctuation">-</span>server <span class="token comment"># tc服务在nacos中的服务名称</span>
      <span class="token key atrule">cluster</span><span class="token punctuation">:</span> SH
  <span class="token key atrule">tx-service-group</span><span class="token punctuation">:</span> seata<span class="token punctuation">-</span>demo <span class="token comment"># 事务组，根据这个获取tc服务的cluster名称</span>
  <span class="token key atrule">service</span><span class="token punctuation">:</span>
    <span class="token key atrule">vgroup-mapping</span><span class="token punctuation">:</span> <span class="token comment"># 事务组与TC服务cluster的映射关系</span>
      <span class="token key atrule">seata-demo</span><span class="token punctuation">:</span> SH
</code></pre></div><h1 id="三、tc服务的高可用和异地容灾"><a href="#三、tc服务的高可用和异地容灾" class="header-anchor">#</a> 三、TC服务的高可用和异地容灾</h1> <h2 id="_1-模拟异地容灾的tc集群"><a href="#_1-模拟异地容灾的tc集群" class="header-anchor">#</a> 1.模拟异地容灾的TC集群</h2> <p>计划启动两台seata的tc服务节点：</p> <table><thead><tr><th>节点名称</th> <th>ip地址</th> <th>端口号</th> <th>集群名称</th></tr></thead> <tbody><tr><td>seata</td> <td>127.0.0.1</td> <td>8091</td> <td>SH</td></tr> <tr><td>seata2</td> <td>127.0.0.1</td> <td>8092</td> <td>HZ</td></tr></tbody></table> <p>之前我们已经启动了一台seata服务，端口是8091，集群名为SH。</p> <p>现在，将seata目录复制一份，起名为seata2</p> <p>修改seata2/conf/registry.conf内容如下：</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">registry</span></span> <span class="token punctuation">{</span>
  <span class="token comment"># tc服务的注册中心类，这里选择nacos，也可以是eureka、zookeeper等</span>
  <span class="token directive"><span class="token keyword">type</span> = <span class="token string">&quot;nacos&quot;</span>

  nacos</span> <span class="token punctuation">{</span>
    <span class="token comment"># seata tc 服务注册到 nacos的服务名称，可以自定义</span>
    application = &quot;seata-tc-server&quot;
    serverAddr = &quot;127.0.0.1:8848&quot;
    group = &quot;DEFAULT_GROUP&quot;
    namespace = &quot;&quot;
    cluster = &quot;HZ&quot;
    username = &quot;nacos&quot;
    password = &quot;nacos&quot;
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token directive"><span class="token keyword">config</span></span> <span class="token punctuation">{</span>
  <span class="token comment"># 读取tc服务端的配置文件的方式，这里是从nacos配置中心读取，这样如果tc是集群，可以共享配置</span>
  <span class="token directive"><span class="token keyword">type</span> = <span class="token string">&quot;nacos&quot;</span>
  <span class="token comment"># 配置nacos地址等信息</span>
  nacos</span> <span class="token punctuation">{</span>
    serverAddr = &quot;127.0.0.1:8848&quot;
    namespace = &quot;&quot;
    group = &quot;SEATA_GROUP&quot;
    username = &quot;nacos&quot;
    password = &quot;nacos&quot;
    dataId = &quot;seataServer.properties&quot;
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>进入seata2/bin目录，然后运行命令：</p> <div class="language-powershell extra-class"><pre class="language-powershell"><code>seata-server<span class="token punctuation">.</span>bat <span class="token operator">-</span>p 8092
</code></pre></div><p>打开nacos控制台，查看服务列表：</p> <p><img src="data:image/png;base64,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" alt="image-20210624151150840"></p> <p>点进详情查看：</p> <p><img src="/x14n-blog/assets/img/image-20210624151221747.0302f9a2.png" alt="image-20210624151221747"></p> <h2 id="_2-将事务组映射配置到nacos"><a href="#_2-将事务组映射配置到nacos" class="header-anchor">#</a> 2.将事务组映射配置到nacos</h2> <p>接下来，我们需要将tx-service-group与cluster的映射关系都配置到nacos配置中心。</p> <p>新建一个配置：</p> <p><img src="/x14n-blog/assets/img/image-20210624151507072.8b388811.png" alt="image-20210624151507072"></p> <p>配置的内容如下：</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># 事务组映射关系</span>
<span class="token key attr-name">service.vgroupMapping.seata-demo</span><span class="token punctuation">=</span><span class="token value attr-value">SH</span>

<span class="token key attr-name">service.enableDegrade</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
<span class="token key attr-name">service.disableGlobalTransaction</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
<span class="token comment"># 与TC服务的通信配置</span>
<span class="token key attr-name">transport.type</span><span class="token punctuation">=</span><span class="token value attr-value">TCP</span>
<span class="token key attr-name">transport.server</span><span class="token punctuation">=</span><span class="token value attr-value">NIO</span>
<span class="token key attr-name">transport.heartbeat</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">transport.enableClientBatchSendRequest</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
<span class="token key attr-name">transport.threadFactory.bossThreadPrefix</span><span class="token punctuation">=</span><span class="token value attr-value">NettyBoss</span>
<span class="token key attr-name">transport.threadFactory.workerThreadPrefix</span><span class="token punctuation">=</span><span class="token value attr-value">NettyServerNIOWorker</span>
<span class="token key attr-name">transport.threadFactory.serverExecutorThreadPrefix</span><span class="token punctuation">=</span><span class="token value attr-value">NettyServerBizHandler</span>
<span class="token key attr-name">transport.threadFactory.shareBossWorker</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
<span class="token key attr-name">transport.threadFactory.clientSelectorThreadPrefix</span><span class="token punctuation">=</span><span class="token value attr-value">NettyClientSelector</span>
<span class="token key attr-name">transport.threadFactory.clientSelectorThreadSize</span><span class="token punctuation">=</span><span class="token value attr-value">1</span>
<span class="token key attr-name">transport.threadFactory.clientWorkerThreadPrefix</span><span class="token punctuation">=</span><span class="token value attr-value">NettyClientWorkerThread</span>
<span class="token key attr-name">transport.threadFactory.bossThreadSize</span><span class="token punctuation">=</span><span class="token value attr-value">1</span>
<span class="token key attr-name">transport.threadFactory.workerThreadSize</span><span class="token punctuation">=</span><span class="token value attr-value">default</span>
<span class="token key attr-name">transport.shutdown.wait</span><span class="token punctuation">=</span><span class="token value attr-value">3</span>
<span class="token comment"># RM配置</span>
<span class="token key attr-name">client.rm.asyncCommitBufferLimit</span><span class="token punctuation">=</span><span class="token value attr-value">10000</span>
<span class="token key attr-name">client.rm.lock.retryInterval</span><span class="token punctuation">=</span><span class="token value attr-value">10</span>
<span class="token key attr-name">client.rm.lock.retryTimes</span><span class="token punctuation">=</span><span class="token value attr-value">30</span>
<span class="token key attr-name">client.rm.lock.retryPolicyBranchRollbackOnConflict</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">client.rm.reportRetryCount</span><span class="token punctuation">=</span><span class="token value attr-value">5</span>
<span class="token key attr-name">client.rm.tableMetaCheckEnable</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
<span class="token key attr-name">client.rm.tableMetaCheckerInterval</span><span class="token punctuation">=</span><span class="token value attr-value">60000</span>
<span class="token key attr-name">client.rm.sqlParserType</span><span class="token punctuation">=</span><span class="token value attr-value">druid</span>
<span class="token key attr-name">client.rm.reportSuccessEnable</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
<span class="token key attr-name">client.rm.sagaBranchRegisterEnable</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
<span class="token comment"># TM配置</span>
<span class="token key attr-name">client.tm.commitRetryCount</span><span class="token punctuation">=</span><span class="token value attr-value">5</span>
<span class="token key attr-name">client.tm.rollbackRetryCount</span><span class="token punctuation">=</span><span class="token value attr-value">5</span>
<span class="token key attr-name">client.tm.defaultGlobalTransactionTimeout</span><span class="token punctuation">=</span><span class="token value attr-value">60000</span>
<span class="token key attr-name">client.tm.degradeCheck</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
<span class="token key attr-name">client.tm.degradeCheckAllowTimes</span><span class="token punctuation">=</span><span class="token value attr-value">10</span>
<span class="token key attr-name">client.tm.degradeCheckPeriod</span><span class="token punctuation">=</span><span class="token value attr-value">2000</span>

<span class="token comment"># undo日志配置</span>
<span class="token key attr-name">client.undo.dataValidation</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">client.undo.logSerialization</span><span class="token punctuation">=</span><span class="token value attr-value">jackson</span>
<span class="token key attr-name">client.undo.onlyCareUpdateColumns</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">client.undo.logTable</span><span class="token punctuation">=</span><span class="token value attr-value">undo_log</span>
<span class="token key attr-name">client.undo.compress.enable</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">client.undo.compress.type</span><span class="token punctuation">=</span><span class="token value attr-value">zip</span>
<span class="token key attr-name">client.undo.compress.threshold</span><span class="token punctuation">=</span><span class="token value attr-value">64k</span>
<span class="token key attr-name">client.log.exceptionRate</span><span class="token punctuation">=</span><span class="token value attr-value">100</span>
</code></pre></div><h2 id="_3-微服务读取nacos配置"><a href="#_3-微服务读取nacos配置" class="header-anchor">#</a> 3.微服务读取nacos配置</h2> <p>接下来，需要修改每一个微服务的application.yml文件，让微服务读取nacos中的client.properties文件：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">seata</span><span class="token punctuation">:</span>
  <span class="token key atrule">config</span><span class="token punctuation">:</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> nacos
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">8848</span>
      <span class="token key atrule">username</span><span class="token punctuation">:</span> nacos
      <span class="token key atrule">password</span><span class="token punctuation">:</span> nacos
      <span class="token key atrule">group</span><span class="token punctuation">:</span> SEATA_GROUP
      <span class="token key atrule">data-id</span><span class="token punctuation">:</span> client.properties
</code></pre></div><p>重启微服务，现在微服务到底是连接tc的SH集群，还是tc的HZ集群，都统一由nacos的client.properties来决定了。</p></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/x14n-blog/views/xue-xi/fen-bu-shi/ke-wai/seatade-bu-shu-he-ji-cheng.html#_1-下载" class="sidebar-link reco-side-_1-下载" data-v-b57cc07c>1.下载</a></li><li class="level-2" data-v-b57cc07c><a href="/x14n-blog/views/xue-xi/fen-bu-shi/ke-wai/seatade-bu-shu-he-ji-cheng.html#_2-解压" class="sidebar-link reco-side-_2-解压" data-v-b57cc07c>2.解压</a></li><li class="level-2" data-v-b57cc07c><a href="/x14n-blog/views/xue-xi/fen-bu-shi/ke-wai/seatade-bu-shu-he-ji-cheng.html#_3-修改配置" class="sidebar-link reco-side-_3-修改配置" data-v-b57cc07c>3.修改配置</a></li><li class="level-2" data-v-b57cc07c><a href="/x14n-blog/views/xue-xi/fen-bu-shi/ke-wai/seatade-bu-shu-he-ji-cheng.html#_4-在nacos添加配置" class="sidebar-link reco-side-_4-在nacos添加配置" data-v-b57cc07c>4.在nacos添加配置</a></li><li class="level-2" data-v-b57cc07c><a href="/x14n-blog/views/xue-xi/fen-bu-shi/ke-wai/seatade-bu-shu-he-ji-cheng.html#_5-创建数据库表" class="sidebar-link reco-side-_5-创建数据库表" data-v-b57cc07c>5.创建数据库表</a></li><li class="level-2" data-v-b57cc07c><a href="/x14n-blog/views/xue-xi/fen-bu-shi/ke-wai/seatade-bu-shu-he-ji-cheng.html#_6-启动tc服务" class="sidebar-link reco-side-_6-启动tc服务" data-v-b57cc07c>6.启动TC服务</a></li><li class="level-2" data-v-b57cc07c><a href="/x14n-blog/views/xue-xi/fen-bu-shi/ke-wai/seatade-bu-shu-he-ji-cheng.html#_1-引入依赖" class="sidebar-link reco-side-_1-引入依赖" data-v-b57cc07c>1.引入依赖</a></li><li class="level-2" data-v-b57cc07c><a href="/x14n-blog/views/xue-xi/fen-bu-shi/ke-wai/seatade-bu-shu-he-ji-cheng.html#_2-修改配置文件" class="sidebar-link reco-side-_2-修改配置文件" data-v-b57cc07c>2.修改配置文件</a></li><li class="level-2" data-v-b57cc07c><a href="/x14n-blog/views/xue-xi/fen-bu-shi/ke-wai/seatade-bu-shu-he-ji-cheng.html#_1-模拟异地容灾的tc集群" class="sidebar-link reco-side-_1-模拟异地容灾的tc集群" data-v-b57cc07c>1.模拟异地容灾的TC集群</a></li><li class="level-2" data-v-b57cc07c><a href="/x14n-blog/views/xue-xi/fen-bu-shi/ke-wai/seatade-bu-shu-he-ji-cheng.html#_2-将事务组映射配置到nacos" class="sidebar-link reco-side-_2-将事务组映射配置到nacos" data-v-b57cc07c>2.将事务组映射配置到nacos</a></li><li class="level-2" data-v-b57cc07c><a href="/x14n-blog/views/xue-xi/fen-bu-shi/ke-wai/seatade-bu-shu-he-ji-cheng.html#_3-微服务读取nacos配置" class="sidebar-link reco-side-_3-微服务读取nacos配置" data-v-b57cc07c>3.微服务读取nacos配置</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/x14n-blog/assets/js/app.0bf6b832.js" defer></script><script src="/x14n-blog/assets/js/7.5ae92d3c.js" defer></script><script src="/x14n-blog/assets/js/2.f34688e4.js" defer></script><script src="/x14n-blog/assets/js/1.8dfff511.js" defer></script><script src="/x14n-blog/assets/js/35.c8ef20b8.js" defer></script>
  </body>
</html>
